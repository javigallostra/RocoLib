{"info": {"description": "RocoLib API", "version": "1.0.0-oas3", "contact": {"email": "juangallostra@gmail.com"}, "license": {"name": "Apache 2.0", "url": "http://www.apache.org/licenses/LICENSE-2.0.html"}, "title": "RocoLib API"}, "servers": [{"description": "Production server", "url": "https://rocolib.herokuapp.com"}, {"description": "Local Test server", "url": "http://localhost:5050"}], "components": {"securitySchemes": {"bearerAuth": {"type": "http", "scheme": "bearer", "bearerFormat": "JWT"}}, "schemas": {"Gym": {"type": "object", "properties": {"name": {"type": "string"}, "coordinates": {"type": "array", "minItems": 2, "maxItems": 2, "items": {"type": "number"}}, "_id": {"type": "string"}, "id": {"type": "string"}}}, "Gyms": {"type": "object", "properties": {"gyms": {"type": "array", "items": {"$ref": "#/components/schemas/Gym"}}}}, "Wall": {"type": "object", "properties": {"image": {"type": "string"}, "_id": {"type": "string"}, "latest": {"type": "boolean"}, "radius": {"type": "number"}, "name": {"type": "string"}}}, "Walls": {"type": "object", "properties": {"walls": {"type": "array", "items": {"$ref": "#/components/schemas/Wall"}}}}, "Hold": {"type": "object", "properties": {"x": {"type": "number"}, "y": {"type": "number"}, "color": {"type": "string"}}, "required": ["color", "x", "y"]}, "Boulder": {"type": "object", "properties": {"difficulty": {"type": "string"}, "time": {"type": "string"}, "_id": {"type": "string"}, "raters": {"type": "integer"}, "notes": {"type": "string"}, "rating": {"type": "number"}, "feet": {"type": "string"}, "section": {"type": "string"}, "holds": {"type": "array", "items": {"$ref": "#/components/schemas/Hold"}}, "creator": {"type": "string"}, "name": {"type": "string"}}, "required": ["creator", "difficulty", "feet", "holds", "name", "notes", "time"]}, "Boulders": {"type": "object", "properties": {"boulders": {"type": "array", "items": {"$ref": "#/components/schemas/Boulder"}}}}, "GymName": {"type": "object", "properties": {"name": {"type": "string"}}}, "WallName": {"type": "object", "properties": {"name": {"type": "string"}}}, "CreateBoulder": {"type": "object", "properties": {"difficulty": {"type": "string"}, "time": {"type": "string"}, "notes": {"type": "string"}, "feet": {"type": "string"}, "holds": {"type": "array", "items": {"$ref": "#/components/schemas/Hold"}}, "creator": {"type": "string"}, "name": {"type": "string"}}, "required": ["creator", "difficulty", "feet", "holds", "name", "notes", "time"]}, "CreateBoulderResponse": {"type": "object", "properties": {"created": {"type": "boolean"}, "_id": {"type": "string"}}}, "CreateBoulderErrorResponse": {"type": "object", "properties": {"errors": {"type": "object"}}}, "GymIDParameter": {"type": "object", "properties": {"gym_id": {"type": "string"}}}, "BoulderIDParameter": {"type": "object", "properties": {"boulder_id": {"type": "string"}}}, "BoulderNameParameter": {"type": "object", "properties": {"boulder_name": {"type": "string"}}}, "AuthenticationRequestBody": {"type": "object", "properties": {"email": {"type": "string"}, "password": {"type": "string"}, "username": {"type": "string"}}}, "AuthenticationResponseBody": {"type": "object", "properties": {"token": {"type": "string"}}}, "AuthenticationErrorResponse": {"type": "object", "properties": {"errors": {"type": "string"}}}, "SignUpRequestBody": {"type": "object", "properties": {"email": {"type": "string"}, "password": {"type": "string"}, "username": {"type": "string"}}}, "SignUpResponseBody": {"type": "object", "properties": {"username": {"type": "string"}}}, "SignUpErrorResponse": {"type": "object", "properties": {"errors": {"type": "array", "items": {"type": "string"}}}}, "TestTokenResponseBody": {"type": "object", "properties": {"data": {"type": "string"}}}, "TestTokenErrorResponse": {"type": "object", "properties": {"errors": {"type": "string"}}}, "TicklistBoulder": {"type": "object", "properties": {"difficulty": {"type": "string"}, "time": {"type": "string"}, "_id": {"type": "string"}, "raters": {"type": "integer"}, "notes": {"type": "string"}, "rating": {"type": "number"}, "feet": {"type": "string"}, "section": {"type": "string"}, "is_done": {"type": "boolean"}, "holds": {"type": "array", "items": {"$ref": "#/components/schemas/Hold"}}, "creator": {"type": "string"}, "name": {"type": "string"}, "date_climbed": {"type": "array", "items": {"type": "string"}}}, "required": ["creator", "difficulty", "feet", "holds", "name", "notes", "time"]}, "TicklistError": {"type": "object", "properties": {"errors": {"type": "object"}}}, "TicklistResponseBody": {"type": "object", "properties": {"boulders": {"type": "array", "items": {"$ref": "#/components/schemas/TicklistBoulder"}}}}, "RateBoulderRequestBody": {"type": "object", "properties": {"rating": {"type": "integer"}}, "required": ["rating"]}, "RateBoulderResponseBody": {"type": "object", "properties": {"rated": {"type": "boolean"}, "_id": {"type": "string"}}}, "RateBoulderErrorResponse": {"type": "object", "properties": {"errors": {"type": "object"}}}, "MarkDoneBoulderRequestBody": {"type": "object", "properties": {"boulder_id": {"type": "string"}, "gym": {"type": "string"}}, "required": ["boulder_id", "gym"]}, "MarkDoneBoulderResponseBody": {"type": "object", "properties": {"boulder_id": {"type": "string"}, "marked_as_done": {"type": "boolean"}}}, "MarkDoneBoulderErrorResponse": {"type": "object", "properties": {"errors": {"type": "object"}}}, "NotFoundError": {"type": "object", "properties": {"errors": {"type": "object"}}}}}, "tags": [{"name": "Gyms", "description": "Endpoints related to Gyms"}, {"name": "Boulders", "description": "Endpoints related to Boulder Problems"}, {"name": "User", "description": "Endpoints related to Users"}], "paths": {"/api/v1/gym/list": {"get": {"tags": ["Gyms"], "responses": {"200": {"description": "List of gyms", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Gyms"}}, "text/plain": {"schema": {"$ref": "#/components/schemas/Gyms"}}, "text/json": {"schema": {"$ref": "#/components/schemas/Gyms"}}}}, "400": {"description": "Bad request"}, "404": {"description": "Not found", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/NotFoundError"}}, "text/plain": {"schema": {"$ref": "#/components/schemas/NotFoundError"}}, "text/json": {"schema": {"$ref": "#/components/schemas/NotFoundError"}}}}, "500": {"description": "Server Error"}}}}, "/api/v1/gym/{gym_id}/walls": {"get": {"tags": ["Gyms"], "parameters": [{"in": "path", "name": "gym_id", "required": true, "schema": {"type": "string"}}, {"in": "query", "name": "latest", "schema": {"type": "boolean"}, "description": "if true, get only latest wall versions. Defaults to false"}], "responses": {"200": {"description": "List of walls associated to the specified gym", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Walls"}}, "text/plain": {"schema": {"$ref": "#/components/schemas/Walls"}}, "text/json": {"schema": {"$ref": "#/components/schemas/Walls"}}}}, "400": {"description": "Bad request"}, "404": {"description": "Not found", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/NotFoundError"}}, "text/plain": {"schema": {"$ref": "#/components/schemas/NotFoundError"}}, "text/json": {"schema": {"$ref": "#/components/schemas/NotFoundError"}}}}, "500": {"description": "Server Error"}}}}, "/api/v1/gym/{gym_id}/name": {"get": {"tags": ["Gyms"], "parameters": [{"in": "path", "name": "gym_id", "required": true, "schema": {"type": "string"}}], "responses": {"200": {"description": "Gym name", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/GymName"}}, "text/plain": {"schema": {"$ref": "#/components/schemas/GymName"}}, "text/json": {"schema": {"$ref": "#/components/schemas/GymName"}}}}, "400": {"description": "Bad request"}, "404": {"description": "Not found", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/NotFoundError"}}, "text/plain": {"schema": {"$ref": "#/components/schemas/NotFoundError"}}, "text/json": {"schema": {"$ref": "#/components/schemas/NotFoundError"}}}}, "500": {"description": "Server Error"}}}}, "/api/v1/gym/{gym_id}/{wall_section}/name": {"get": {"tags": ["Gyms"], "parameters": [{"in": "path", "name": "gym_id", "required": true, "schema": {"type": "string"}}, {"in": "path", "name": "wall_section", "required": true, "schema": {"type": "string"}}], "responses": {"200": {"description": "Wall name", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/WallName"}}, "text/plain": {"schema": {"$ref": "#/components/schemas/WallName"}}, "text/json": {"schema": {"$ref": "#/components/schemas/WallName"}}}}, "400": {"description": "Bad request"}, "404": {"description": "Not found", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/NotFoundError"}}, "text/plain": {"schema": {"$ref": "#/components/schemas/NotFoundError"}}, "text/json": {"schema": {"$ref": "#/components/schemas/NotFoundError"}}}}, "500": {"description": "Server Error"}}}}, "/api/v1/boulders/{gym_id}/list": {"get": {"tags": ["Boulders"], "parameters": [{"in": "path", "name": "gym_id", "required": true, "schema": {"type": "string"}}], "responses": {"200": {"description": "List of gym boulders", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Boulders"}}, "text/plain": {"schema": {"$ref": "#/components/schemas/Boulders"}}, "text/json": {"schema": {"$ref": "#/components/schemas/Boulders"}}}}, "400": {"description": "Bad request"}, "404": {"description": "Not found", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/NotFoundError"}}, "text/plain": {"schema": {"$ref": "#/components/schemas/NotFoundError"}}, "text/json": {"schema": {"$ref": "#/components/schemas/NotFoundError"}}}}, "500": {"description": "Server Error"}}}}, "/api/v1/boulders/{gym_id}/{boulder_id}": {"get": {"tags": ["Boulders"], "parameters": [{"in": "path", "name": "gym_id", "required": true, "schema": {"type": "string"}}, {"in": "path", "name": "boulder_id", "required": true, "schema": {"type": "string"}}], "responses": {"200": {"description": "Boulder data for the specified problem", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Boulder"}}, "text/plain": {"schema": {"$ref": "#/components/schemas/Boulder"}}, "text/json": {"schema": {"$ref": "#/components/schemas/Boulder"}}}}, "400": {"description": "Bad request"}, "404": {"description": "Not found", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/NotFoundError"}}, "text/plain": {"schema": {"$ref": "#/components/schemas/NotFoundError"}}, "text/json": {"schema": {"$ref": "#/components/schemas/NotFoundError"}}}}, "500": {"description": "Server Error"}}}}, "/api/v1/boulders/{gym_id}/name/{boulder_name}": {"get": {"tags": ["Boulders"], "parameters": [{"in": "path", "name": "gym_id", "required": true, "schema": {"type": "string"}}, {"in": "path", "name": "boulder_name", "required": true, "schema": {"type": "string"}}], "responses": {"200": {"description": "Boulder data for the specified problem", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Boulder"}}, "text/plain": {"schema": {"$ref": "#/components/schemas/Boulder"}}, "text/json": {"schema": {"$ref": "#/components/schemas/Boulder"}}}}, "400": {"description": "Bad request"}, "404": {"description": "Not found", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/NotFoundError"}}, "text/plain": {"schema": {"$ref": "#/components/schemas/NotFoundError"}}, "text/json": {"schema": {"$ref": "#/components/schemas/NotFoundError"}}}}, "500": {"description": "Server Error"}}}}, "/api/v1/boulders/{gym_id}/{wall_section}/create": {"post": {"tags": ["Boulders"], "parameters": [{"in": "path", "name": "gym_id", "required": true, "schema": {"type": "string"}}, {"in": "path", "name": "wall_section", "required": true, "schema": {"type": "string"}}], "requestBody": {"description": "Create boulder request body", "required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CreateBoulder"}}, "application/x-www-form-urlencoded": {"schema": {"$ref": "#/components/schemas/CreateBoulder"}}, "text/json": {"schema": {"$ref": "#/components/schemas/CreateBoulder"}}, "text/plain": {"schema": {"$ref": "#/components/schemas/CreateBoulder"}}}}, "responses": {"201": {"description": "Creation successful", "content": {"text/plain": {"schema": {"$ref": "#/components/schemas/CreateBoulderResponse"}}, "text/json": {"schema": {"$ref": "#/components/schemas/CreateBoulderResponse"}}, "application/json": {"schema": {"$ref": "#/components/schemas/CreateBoulderResponse"}}}}, "400": {"description": "Bad request", "content": {"text/plain": {"schema": {"$ref": "#/components/schemas/CreateBoulderErrorResponse"}}, "text/json": {"schema": {"$ref": "#/components/schemas/CreateBoulderErrorResponse"}}, "application/json": {"schema": {"$ref": "#/components/schemas/CreateBoulderErrorResponse"}}}}, "404": {"description": "Not found", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/NotFoundError"}}, "text/plain": {"schema": {"$ref": "#/components/schemas/NotFoundError"}}, "text/json": {"schema": {"$ref": "#/components/schemas/NotFoundError"}}}}, "500": {"description": "Server Error"}}}}, "/api/v1/user/signup": {"post": {"tags": ["User"], "requestBody": {"description": "User Sign Up request body", "required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/SignUpRequestBody"}}, "application/x-www-form-urlencoded": {"schema": {"$ref": "#/components/schemas/SignUpRequestBody"}}, "text/json": {"schema": {"$ref": "#/components/schemas/SignUpRequestBody"}}, "text/plain": {"schema": {"$ref": "#/components/schemas/SignUpRequestBody"}}}}, "responses": {"200": {"description": "User creation successful", "content": {"text/plain": {"schema": {"$ref": "#/components/schemas/SignUpResponseBody"}}, "text/json": {"schema": {"$ref": "#/components/schemas/SignUpResponseBody"}}, "application/json": {"schema": {"$ref": "#/components/schemas/SignUpResponseBody"}}}}, "400": {"description": "Bad request", "content": {"text/plain": {"schema": {"$ref": "#/components/schemas/SignUpErrorResponse"}}, "text/json": {"schema": {"$ref": "#/components/schemas/SignUpErrorResponse"}}, "application/json": {"schema": {"$ref": "#/components/schemas/SignUpErrorResponse"}}}}, "401": {"description": "Invalid credentials", "content": {"text/plain": {"schema": {"$ref": "#/components/schemas/SignUpErrorResponse"}}, "text/json": {"schema": {"$ref": "#/components/schemas/SignUpErrorResponse"}}, "application/json": {"schema": {"$ref": "#/components/schemas/SignUpErrorResponse"}}}}, "404": {"description": "Not found", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/NotFoundError"}}, "text/plain": {"schema": {"$ref": "#/components/schemas/NotFoundError"}}, "text/json": {"schema": {"$ref": "#/components/schemas/NotFoundError"}}}}, "500": {"description": "Server Error"}}}}, "/api/v1/user/auth": {"post": {"tags": ["User"], "requestBody": {"description": "Authentication request body", "required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/AuthenticationRequestBody"}}, "application/x-www-form-urlencoded": {"schema": {"$ref": "#/components/schemas/AuthenticationRequestBody"}}, "text/json": {"schema": {"$ref": "#/components/schemas/AuthenticationRequestBody"}}, "text/plain": {"schema": {"$ref": "#/components/schemas/AuthenticationRequestBody"}}}}, "responses": {"200": {"description": "Authentication successful", "content": {"text/plain": {"schema": {"$ref": "#/components/schemas/AuthenticationResponseBody"}}, "text/json": {"schema": {"$ref": "#/components/schemas/AuthenticationResponseBody"}}, "application/json": {"schema": {"$ref": "#/components/schemas/AuthenticationResponseBody"}}}}, "400": {"description": "Bad request", "content": {"text/plain": {"schema": {"$ref": "#/components/schemas/AuthenticationErrorResponse"}}, "text/json": {"schema": {"$ref": "#/components/schemas/AuthenticationErrorResponse"}}, "application/json": {"schema": {"$ref": "#/components/schemas/AuthenticationErrorResponse"}}}}, "401": {"description": "Invalid credentials", "content": {"text/plain": {"schema": {"$ref": "#/components/schemas/AuthenticationErrorResponse"}}, "text/json": {"schema": {"$ref": "#/components/schemas/AuthenticationErrorResponse"}}, "application/json": {"schema": {"$ref": "#/components/schemas/AuthenticationErrorResponse"}}}}, "404": {"description": "Not found", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/NotFoundError"}}, "text/plain": {"schema": {"$ref": "#/components/schemas/NotFoundError"}}, "text/json": {"schema": {"$ref": "#/components/schemas/NotFoundError"}}}}, "500": {"description": "Server Error"}}}}, "/api/v1/user/test-auth": {"get": {"security": [{"bearerAuth": []}], "tags": ["User"], "responses": {"200": {"description": "Authentication successful", "content": {"text/plain": {"schema": {"$ref": "#/components/schemas/TestTokenResponseBody"}}, "text/json": {"schema": {"$ref": "#/components/schemas/TestTokenResponseBody"}}, "application/json": {"schema": {"$ref": "#/components/schemas/TestTokenResponseBody"}}}}, "400": {"description": "Bad request", "content": {"text/plain": {"schema": {"$ref": "#/components/schemas/TestTokenErrorResponse"}}, "text/json": {"schema": {"$ref": "#/components/schemas/TestTokenErrorResponse"}}, "application/json": {"schema": {"$ref": "#/components/schemas/TestTokenErrorResponse"}}}}, "401": {"description": "Invalid credentials", "content": {"text/plain": {"schema": {"$ref": "#/components/schemas/TestTokenErrorResponse"}}, "text/json": {"schema": {"$ref": "#/components/schemas/TestTokenErrorResponse"}}, "application/json": {"schema": {"$ref": "#/components/schemas/TestTokenErrorResponse"}}}}, "404": {"description": "Not found", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/NotFoundError"}}, "text/plain": {"schema": {"$ref": "#/components/schemas/NotFoundError"}}, "text/json": {"schema": {"$ref": "#/components/schemas/NotFoundError"}}}}, "500": {"description": "Server Error"}}}}, "/api/v1/user/ticklist": {"get": {"security": [{"bearerAuth": []}], "tags": ["User"], "responses": {"200": {"description": "Ticklist retrieval successful", "content": {"text/plain": {"schema": {"$ref": "#/components/schemas/TicklistResponseBody"}}, "text/json": {"schema": {"$ref": "#/components/schemas/TicklistResponseBody"}}, "application/json": {"schema": {"$ref": "#/components/schemas/TicklistResponseBody"}}}}, "400": {"description": "Bad request", "content": {"text/plain": {"schema": {"$ref": "#/components/schemas/TicklistError"}}, "text/json": {"schema": {"$ref": "#/components/schemas/TicklistError"}}, "application/json": {"schema": {"$ref": "#/components/schemas/TicklistError"}}}}, "401": {"description": "Invalid credentials", "content": {"text/plain": {"schema": {"$ref": "#/components/schemas/TicklistError"}}, "text/json": {"schema": {"$ref": "#/components/schemas/TicklistError"}}, "application/json": {"schema": {"$ref": "#/components/schemas/TicklistError"}}}}, "404": {"description": "Not found", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/NotFoundError"}}, "text/plain": {"schema": {"$ref": "#/components/schemas/NotFoundError"}}, "text/json": {"schema": {"$ref": "#/components/schemas/NotFoundError"}}}}, "500": {"description": "Server Error"}}}}, "/api/v1/boulders/{gym_id}/{boulder_id}/rate": {"post": {"tags": ["Boulders"], "parameters": [{"in": "path", "name": "gym_id", "required": true, "schema": {"type": "string"}}, {"in": "path", "name": "boulder_id", "required": true, "schema": {"type": "string"}}], "requestBody": {"description": "Boulder rating", "required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/RateBoulderRequestBody"}}, "application/x-www-form-urlencoded": {"schema": {"$ref": "#/components/schemas/RateBoulderRequestBody"}}, "text/json": {"schema": {"$ref": "#/components/schemas/RateBoulderRequestBody"}}, "text/plain": {"schema": {"$ref": "#/components/schemas/RateBoulderRequestBody"}}}}, "responses": {"201": {"description": "Rating successful", "content": {"text/plain": {"schema": {"$ref": "#/components/schemas/RateBoulderResponseBody"}}, "text/json": {"schema": {"$ref": "#/components/schemas/RateBoulderResponseBody"}}, "application/json": {"schema": {"$ref": "#/components/schemas/RateBoulderResponseBody"}}}}, "400": {"description": "Bad request", "content": {"text/plain": {"schema": {"$ref": "#/components/schemas/RateBoulderErrorResponse"}}, "text/json": {"schema": {"$ref": "#/components/schemas/RateBoulderErrorResponse"}}, "application/json": {"schema": {"$ref": "#/components/schemas/RateBoulderErrorResponse"}}}}, "404": {"description": "Not found", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/NotFoundError"}}, "text/plain": {"schema": {"$ref": "#/components/schemas/NotFoundError"}}, "text/json": {"schema": {"$ref": "#/components/schemas/NotFoundError"}}}}, "500": {"description": "Server Error"}}}}, "/api/v1/user/ticklist/boulder/done": {"post": {"security": [{"bearerAuth": []}], "tags": ["User"], "requestBody": {"description": "Boulder to mark as done", "required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/MarkDoneBoulderRequestBody"}}, "application/x-www-form-urlencoded": {"schema": {"$ref": "#/components/schemas/MarkDoneBoulderRequestBody"}}, "text/json": {"schema": {"$ref": "#/components/schemas/MarkDoneBoulderRequestBody"}}, "text/plain": {"schema": {"$ref": "#/components/schemas/MarkDoneBoulderRequestBody"}}}}, "responses": {"200": {"description": "Mark boulder as done successful", "content": {"text/plain": {"schema": {"$ref": "#/components/schemas/MarkDoneBoulderResponseBody"}}, "text/json": {"schema": {"$ref": "#/components/schemas/MarkDoneBoulderResponseBody"}}, "application/json": {"schema": {"$ref": "#/components/schemas/MarkDoneBoulderResponseBody"}}}}, "400": {"description": "Bad request", "content": {"text/plain": {"schema": {"$ref": "#/components/schemas/MarkDoneBoulderErrorResponse"}}, "text/json": {"schema": {"$ref": "#/components/schemas/MarkDoneBoulderErrorResponse"}}, "application/json": {"schema": {"$ref": "#/components/schemas/MarkDoneBoulderErrorResponse"}}}}, "404": {"description": "Not found", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/NotFoundError"}}, "text/plain": {"schema": {"$ref": "#/components/schemas/NotFoundError"}}, "text/json": {"schema": {"$ref": "#/components/schemas/NotFoundError"}}}}, "500": {"description": "Server Error"}}}}}, "openapi": "3.0.2"}